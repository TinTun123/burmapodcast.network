import{e as $,r as u,g as j,h as q,z as E,i as H,o as l,c as a,a as e,F as C,p as _,b as y,l as U,j as A,k as z,m as P,n as R,t as c,f as b,q as k,w as D,s as G,v as F}from"./index-b117d992.js";const J={class:"mx-4 mt-8 tablet:mx-8"},K={key:0,class:"flex items-center gap-x-2 my-8"},O={class:"text-white/80 font-semibold text-lg"},Q=e("div",{class:"w-[90%]"},[e("svg",{class:"w-full",height:"2",viewBox:"0 0 1000 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("rect",{width:"1000",height:"2",fill:"#CCCCCC","fill-opacity":"0.4"})])],-1),W={class:"grid grid-cols-1 tablet:grid-cols-2 gap-4"},X=["onClick"],Y=["onClick"],ee=e("div",{class:"w-4 h-4"},[e("svg",{class:"w-full h-full",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"fill-[#CCCCCC] group-hover:fill-[#CCCCCC]/80 group-active:fill-[#CCCCCC]",d:"M15.74 3.59283C16.0867 3.24622 16.0867 2.66852 15.74 2.33968L13.6603 0.259964C13.3315 -0.0866546 12.7538 -0.0866546 12.4072 0.259964L10.7718 1.8864L14.1047 5.21928M0 12.6671V16H3.33287L13.1626 6.16137L9.82975 2.8285L0 12.6671Z"})])],-1),te=[ee],oe={class:"flex gap-x-2"},se={class:"flex gap-x-2 rounded-full overflow-hidden px-2 bg-[#404040] group-active:bg-[#404040]/80 py-1"},le={class:"text-x-sm text-white/60 font-bold"},ae={class:"flex gap-x-2 items-center rounded-full overflow-hidden px-2 bg-[#404040] group-active:bg-[#404040]/80 py-1"},ie={class:"text-x-sm text-white/60 font-bold"},ne=e("div",null,[e("svg",{width:"16",height:"13",viewBox:"0 0 16 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{class:"fill-white/60",d:"M7 12.5C7 12.5 6 12.5 6 11.5C6 10.5 7 7.5 11 7.5C15 7.5 16 10.5 16 11.5C16 12.5 15 12.5 15 12.5H7ZM11 6.5C11.7956 6.5 12.5587 6.18393 13.1213 5.62132C13.6839 5.05871 14 4.29565 14 3.5C14 2.70435 13.6839 1.94129 13.1213 1.37868C12.5587 0.816071 11.7956 0.5 11 0.5C10.2044 0.5 9.44129 0.816071 8.87868 1.37868C8.31607 1.94129 8 2.70435 8 3.5C8 4.29565 8.31607 5.05871 8.87868 5.62132C9.44129 6.18393 10.2044 6.5 11 6.5ZM5.216 12.5C5.06776 12.1878 4.99382 11.8455 5 11.5C5 10.145 5.68 8.75 6.936 7.78C6.30909 7.58684 5.65595 7.49237 5 7.5C1 7.5 0 10.5 0 11.5C0 12.5 1 12.5 1 12.5H5.216ZM4.5 6.5C5.16304 6.5 5.79893 6.23661 6.26777 5.76777C6.73661 5.29893 7 4.66304 7 4C7 3.33696 6.73661 2.70107 6.26777 2.23223C5.79893 1.76339 5.16304 1.5 4.5 1.5C3.83696 1.5 3.20107 1.76339 2.73223 2.23223C2.26339 2.70107 2 3.33696 2 4C2 4.66304 2.26339 5.29893 2.73223 5.76777C3.20107 6.23661 3.83696 6.5 4.5 6.5Z"})])],-1),de={class:"text-white/80 mt-2 text-base font-semibold leading-[24px]"},re={class:"text-white text-lg leading-[30px]"},ue=e("span",{class:"text-base text-white font-medium bg-[#D9D9D9]/10 rounded-[15px] px-4 py-2 transition hover:bg-[#D9D9D9]/5 active:bg-[#D9D9D9]/10"}," New ",-1),ce=[ue],pe={key:0,class:"modal-mask"},he={class:"modal-container rounded-[10px] relative"},ve=e("div",{class:"w-8 h-8"},[e("svg",{class:"w-full h-full",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M6.2376 11.2624L8.5008 9ZM10.7632 6.7376L8.5008 9ZM8.5008 9L6.2376 6.7376ZM8.5008 9L10.7632 11.2624ZM8.5 17C12.9184 17 16.5 13.4184 16.5 9C16.5 4.5816 12.9184 1 8.5 1C4.0816 1 0.5 4.5816 0.5 9C0.5 13.4184 4.0816 17 8.5 17Z",class:"fill-white/80 group-hover:fill-white/40 group-active:fill-white/60"}),e("path",{d:"M6.2376 11.2624L8.5008 9M8.5008 9L10.7632 6.7376M8.5008 9L6.2376 6.7376M8.5008 9L10.7632 11.2624M8.5 17C12.9184 17 16.5 13.4184 16.5 9C16.5 4.5816 12.9184 1 8.5 1C4.0816 1 0.5 4.5816 0.5 9C0.5 13.4184 4.0816 17 8.5 17Z",class:"stroke-black/40","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),fe=[ve],we={class:"flex flex-col gap-y-2 overflow-hidden"},Ce=e("h3",{class:"modal-header mb-4 text-white/80 text-lg font-semibold text-center"},"New Thread",-1),ge=e("option",{value:"",disabled:""},"Show",-1),xe=["value"],me={class:"flex gap-x-2 justify-end"},De={__name:"AdminForumComponent",setup(_e){const M=$(),i=u(!1),g=j(),p=q(),n=u(""),x=u(),h=u(""),v=u(""),f=u(""),d=u(!1),L=E();H(()=>{p.forums.length||p.getForums(),g.shows.length||g.fetchShows()});function S(o){return new Date(o).toLocaleDateString(void 0,{month:"short",day:"numeric"})}function Z(){if(n.value&&h.value&&v.value){const o=new FormData;o.append("title",v.value),o.append("showID",n.value),o.append("topic",h.value),d.value&&f.value?p.editTopic(o,f.value,x.value).then(t=>{t.status===200&&(w(),i.value=!1,d.value=!1)}):p.addTopic(o).then(t=>{t.status===200&&(w(),i.value=!1,d.value=!1)})}else L.showNotification("Please fill all require fields.","error")}function T(o,t){p.deleteForum(o,t).then(s=>{s.status===200&&(w(),i.value=!1)})}function w(){return n.value=[],h.value="",v.value="",x.value="",f.value="",""}function B(o){d.value=!0,n.value=o.show_id,x.value=o.show_id,h.value=o.body,v.value=o.title,f.value=o.id,i.value=!0}function I(o,t){M.push({name:"forumShow",params:{showId:t,forumid:o}})}return(o,t)=>(l(),a(C,null,[e("div",J,[(l(!0),a(C,null,_(y(p).forums,(s,m)=>(l(),a("div",{key:m},[s.forum.length>0?(l(),a("div",K,[e("span",O,c(s.title),1),Q])):b("",!0),e("div",W,[(l(!0),a(C,null,_(s.forum,(r,N)=>(l(),a("div",{key:N,onClick:k(V=>I(r.id,s.id),["stop"]),class:"col-span-1 bg-[#D9D9D9]/10 rounded-[15px] p-4 transition hover:bg-[#D9D9D9]/5 active:bg-[#D9D9D9]/10 relative"},[e("button",{class:"absolute top-4 right-4 group",onClick:k(V=>B(r),["stop"])},te,8,Y),e("div",oe,[e("div",se,[e("span",le,c(S(r.created_at)),1)]),e("div",ae,[e("span",ie,c(r.answers?r.answers.length:0),1),ne])]),e("h4",de,c(r.title),1),e("p",re,c(r.body),1)],8,X))),128))])]))),128)),e("div",{onClick:t[0]||(t[0]=s=>i.value=!0),class:"mt-8 text-end cursor-pointer"},ce)]),(l(),U(R,{to:"body"},[A(P,{name:"modal"},{default:z(()=>[i.value?(l(),a("div",pe,[e("div",he,[e("button",{onClick:t[1]||(t[1]=s=>{i.value=!1,d.value=!1,w()}),class:"absolute left-1 top-1 group",type:"button"},fe),e("div",we,[Ce,D(e("select",{class:"rounded-full bg-[#2F2F2F] text-white text-sm px-2 py-1 font-semibold",name:"showId",id:"showId","onUpdate:modelValue":t[2]||(t[2]=s=>n.value=s)},[ge,(l(!0),a(C,null,_(y(g).shows,(s,m)=>(l(),a("option",{key:m,value:s.id},c(s.title),9,xe))),128))],512),[[G,n.value]]),D(e("input",{class:"focus:outline-none appearance-none border border-white/40 pl-2 py-1 rounded-[10px] text-base text-white/80 focus:border-white/80 bg-transparent placeholder:text-white/40",placeholder:"title","onUpdate:modelValue":t[3]||(t[3]=s=>v.value=s),type:"text",id:"title"},null,512),[[F,v.value]]),D(e("textarea",{placeholder:"question",class:"bg-transparent h-[20vh] appearance-none focus:outline-none text-white w-full p-2 rounded-[15px] border border-[#D6D6D6]/60 focus:border-[#D6D6D6] placeholder:text-white/40","onUpdate:modelValue":t[4]||(t[4]=s=>h.value=s),name:"topic",id:"topic",cols:"10",rows:"5"},null,512),[[F,h.value]]),e("div",me,[d.value?(l(),a("button",{key:0,class:"text-black/80 bg-[#FF0F00]/60 hover:bg-[#FF0F00]/40 active:bg-[#FF0F00]/60 rounded-full px-4 py-1 font-medium",type:"button",onClick:t[5]||(t[5]=s=>T(f.value,n.value))}," delete ")):b("",!0),e("button",{class:"text-black/80 bg-white/80 hover:bg-white/60 active:bg-white/80 rounded-full px-4 py-1 font-medium",type:"button",onClick:Z},c(d.value?"Edit":"Create"),1)])])])])):b("",!0)]),_:1})]))],64))}};export{De as default};
