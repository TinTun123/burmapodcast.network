import{r as i,g as E,e as V,i as L,o as h,c as p,a as t,t as v,A as M,f as w,w as g,v as b}from"./index-715173ab.js";const A={class:"z-[9999]"},B={class:"modal-header mb-4 text-white/80 text-lg font-semibold text-center"},H={class:"flex flex-col gap-y-2 mb-4"},U={key:0,class:"w-12 h-12"},I=t("svg",{class:"w-full h-full",viewBox:"0 0 24 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[t("path",{class:"fill-[#CCCCCC] group-hover:fill-[#CCCCCC]/80 group-active:fill-[#CCCCCC]",d:"M21.6 0H2.4C1.0764 0 0 1.0764 0 2.4V16.8C0 18.1236 1.0764 19.2 2.4 19.2H21.6C22.9236 19.2 24 18.1236 24 16.8V2.4C24 1.0764 22.9236 0 21.6 0ZM5.4 3.6C5.87739 3.6 6.33523 3.78964 6.67279 4.12721C7.01036 4.46477 7.2 4.92261 7.2 5.4C7.2 5.87739 7.01036 6.33523 6.67279 6.67279C6.33523 7.01036 5.87739 7.2 5.4 7.2C4.92261 7.2 4.46477 7.01036 4.12721 6.67279C3.78964 6.33523 3.6 5.87739 3.6 5.4C3.6 4.92261 3.78964 4.46477 4.12721 4.12721C4.46477 3.78964 4.92261 3.6 5.4 3.6ZM12 15.6H3.6L8.4 9.6L10.2 12L13.8 7.2L20.4 15.6H12Z"})],-1),N=[I],P={class:"flex flex-col gap-y-2"},R={class:"flex flex-col my-4"},T={key:0,class:"text-sm text-red-300"},Z={class:"flex gap-x-2 justify-end"},z={__name:"AddShowComponent",props:["currentShow"],emits:["close"],setup(r,{emit:m}){const l=r,n=i(""),a=i(""),c=i(),C=i(null),u=i(""),f=E(),d=i(""),_=V();L(()=>{l.currentShow&&l.currentShow.isEdit&&(n.value=l.currentShow.title,a.value=l.currentShow.description,u.value=l.currentShow.cover_img)});function S(){C.value.click()}function y(o){const e=o.target.files;if(e[0]){const s=new FileReader;s.onload=D=>{u.value=D.target.result},s.readAsDataURL(e[0]),c.value=e[0]}}function x(){n.value="",a.value="",d.value="",c.value=""}function k(){if(n.value&&a.value&&c.value){const o=new FormData;o.append("title",n.value),o.append("img_file",c.value),o.append("desc",a.value),l.currentShow.isEdit?(o.append("_method","PUT"),f.editShow(o,l.currentShow.id).then(e=>e)):f.createShow(o).then(e=>(e.data.success&&(x(),m("close")),e))}else d.value="Please fill all field!"}function F(o){f.deleteShow(o).then(e=>{e.data.success&&(m("close"),x(),_.push({name:"adminDashboard"}))})}return(o,e)=>(h(),p("div",A,[t("h1",B,v(r.currentShow.isEdit?"Edit show":"New show"),1),t("div",H,[t("div",{style:M({"background-image":`url(${u.value})`}),onClick:S,class:"img_block bg-white/20 w-[45%] flex justify-center items-center rounded-[15px] cursor-pointer hover:bg-white/30 transition aspect-square overflow-hidden group"},[u.value?w("",!0):(h(),p("div",U,N))],4),t("input",{ref_key:"imageImput",ref:C,hidden:"",type:"file",id:"file",name:"file",onChange:y,accept:"image/*",class:"focus:outline-none border pl-2 py-1 rounded-[10px] text-primary text-black/80 focus:border-black/40"},null,544)]),t("div",P,[g(t("input",{type:"text",id:"title",name:"title","onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),class:"focus:outline-none appearance-none border border-white/40 pl-2 py-1 rounded-[10px] text-base text-white/80 focus:border-white/80 bg-transparent placeholder:text-white/40",placeholder:"Title"},null,512),[[b,n.value]])]),t("div",R,[g(t("textarea",{name:"desc","onUpdate:modelValue":e[1]||(e[1]=s=>a.value=s),id:"desc",cols:"15",rows:"3",class:"bg-transparent h-[20vh] appearance-none focus:outline-none text-white w-full p-2 rounded-[15px] border border-[#D6D6D6]/60 focus:border-[#D6D6D6] placeholder:text-white/40",placeholder:"description"},null,512),[[b,a.value]])]),d.value?(h(),p("span",T,v(d.value),1)):w("",!0),t("div",Z,[r.currentShow.isEdit?(h(),p("button",{key:0,class:"text-black/80 bg-[#FF0F00]/60 hover:bg-[#FF0F00]/40 active:bg-[#FF0F00]/60 rounded-full px-4 py-1 font-medium",onClick:e[2]||(e[2]=s=>F(r.currentShow.id))},"delete")):w("",!0),t("button",{class:"text-black/80 bg-white/80 hover:bg-white/60 active:bg-white/80 rounded-full px-4 py-1 font-medium",onClick:k},v(r.currentShow.title?"edit":"create"),1)])]))}};export{z as _};
