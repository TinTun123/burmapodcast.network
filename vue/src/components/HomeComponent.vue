<template>
    <div class="mx-4 mt-8 tablet:mx-8">


        <div class="laptop:hidden mb-8">
            <popupEpiComponent />
        </div>
        <!-- show -------- -->
        <!-- <div class="relative mb-8">

            <hr class="w-[80%] ml-auto h-px bg-white/30 rounded-full">
            <span class="absolute text-[#E84344] font-semibold text-lg top-[50%] -translate-y-[50%]">Shows</span>
        </div> -->


        <!-- shows list ----------------- -->

        <div>
            <transition-group
            class="grid 
            grid-cols-2 
            gap-4 
            tablet:grid-cols-4 
            lg-table:grid-cols-5 
            laptop:grid-cols-4
            mb-8"
            name="showList" tag="div">
                <div @click="routeToshow(shows.id)" v-for="(shows, index) in showStore.shows" :key="index" 
                class="col-span-1 cursor-pointer group">
 

                    <div  class="inline-block laptop:h-full laptop:shadow-card-shadow">
                        <div class="flex 
                        flex-col 
                        gap-y-2
                        laptop:items-center
                        laptop:bg-gradient-to-t from-[#292929] to-[#121212]
                        group-hover:to-60%
                        transition
                        duration-500
                        laptop:rounded-[10px]
                        laptop:p-4
                        laptop:h-full">
                            <div 
                            class="w-[152px] laptop:w-[174px] 
                            aspect-square 
                            overflow-hidden 
                            rounded-[10px]
                            shadow-card-shadow">
                                <img class="w-full h-full" :src="shows.cover_img" alt="">
                            </div>

                            <div class="flex flex-col ">
                                <div class="flex items-center gap-x-1">

                                    <span class="text-x-sm text-white/60 font-semibold">{{ shows.totalEpisodes }} Episodes</span>

                                    <div>
                                        <svg width="5" height="4" viewBox="0 0 5 4" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <circle cx="2.04778" cy="2" r="2" fill="#E84344"/>
                                        </svg>
                                    </div>
                                    
                                    <span class="text-x-sm text-white/60 font-semibold">{{ shows.listener_count }} listen</span>
                                </div>

                                <span  class="text-white text-base font-medium laptop:w-[174px]">
                                    {{ shows.title }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>              
            </transition-group>
      
        </div>


        <!-- show list end ----------------- -->

        <div class="relative mb-8 bg-[#E84344]/80 inline-block py-1 px-4 rounded-bl-[20px] rounded-tr-[20px] shadow-card-shadow" id="lets-talk">
            <!-- <hr class="w-[65%] ml-auto h-px bg-white/30 rounded-full"> -->
            <span class="text-[#ffffff] font-semibold text-lg top-[50%] -translate-y-[50%]">Let's talk</span>
        </div>

        <div class="grid grid-cols-1 tablet:grid-cols-2 lg-tablet:grid-cols-3 gap-4 mb-8">
            <div v-for="(show, index) in forumStore.getforums" 
            
            class="col-span-1 
            relative 
            bg-[#D9D9D9]/10 
            rounded-[10px]
            cursor-pointer
            transition
            hover:scale-105
            hover:bg-[#D9D9D9]/5
            active:bg-[#D9D9D9]/10
            group" :key="index">
                <div v-if="show.forum[0]" class="" @click="routeToForum(show.id, show.forum[0].id)">
                    <div class="inline-block absolute top-2 left-2">
                        <div class="flex gap-x-2">
                            <div class="flex gap-x-2 rounded-full overflow-hidden  px-2 bg-[#404040] group-active:bg-[#404040]/80 py-1">
                                <span class="text-x-sm text-white/40 font-bold">show</span>
                                <span class="text-x-sm text-white/80">{{ show.title }}</span>
                            </div>

                            <div class="flex gap-x-2 rounded-full overflow-hidden  px-2 bg-[#404040] group-active:bg-[#404040]/80 py-1">
                                <span class="text-x-sm text-white/60 font-bold">{{ getDate(show.forum[0].created_at) }}</span>
                            </div>
                        </div>


                    </div>

                    <!-- arrow ------------ -->

                    <div class="absolute bottom-2 right-2">
                        <svg width="19" height="12" viewBox="0 0 19 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14.2118 6.66659H3.98059C3.66229 6.66659 3.41219 6.37325 3.41219 5.99992C3.41219 5.62659 3.66229 5.33325 3.98059 5.33325H14.2118C14.5301 5.33325 14.7802 5.62659 14.7802 5.99992C14.7802 6.37325 14.5301 6.66659 14.2118 6.66659Z" fill="#CCCCCC"/>
                            <path d="M11.3698 11.3332C11.2953 11.3343 11.2214 11.317 11.1528 11.2826C11.0843 11.2482 11.0227 11.1973 10.9719 11.1332C10.7446 10.8666 10.7446 10.4532 10.9719 10.1866L14.5529 5.98656L10.9719 1.78656C10.7446 1.51989 10.7446 1.10656 10.9719 0.839893C11.1993 0.573226 11.5517 0.573226 11.7791 0.839893L15.7579 5.50656C15.9852 5.77323 15.9852 6.18656 15.7579 6.45323L11.7791 11.1199C11.6654 11.2532 11.5176 11.3199 11.3812 11.3199L11.3698 11.3332Z" fill="#CCCCCC"/>
                        </svg>
                    </div>

                    <div class="mt-12 ml-4 mb-16">
                        <p class="text-white/80 font-semibold line-clamp-3">{{ show.forum[0] ? show.forum[0].body : '' }}</p>
                    </div>

                    <div 
                    class="inline-block 
                    ml-4 
                    rounded-full 
                    overflow-hidden 
                    bg-[#404040] 
                    px-1 mb-1
                    absolute top-2 right-2
                    group-active:bg-[#404040]/60">
                        <div class="flex gap-x-1 items-start">
                            <span class="text-white/60 text-x-sm font-semibold">+{{ show.forum[0].answers ? show.forum[0].answers.length : 0 }}</span>
                            
                            <div>
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M5.33333 8.00002C6.04057 8.00002 6.71885 7.71907 7.21895 7.21897C7.71904 6.71887 8 6.0406 8 5.33335C8 4.62611 7.71904 3.94783 7.21895 3.44774C6.71885 2.94764 6.04057 2.66669 5.33333 2.66669C4.62608 2.66669 3.94781 2.94764 3.44771 3.44774C2.94761 3.94783 2.66666 4.62611 2.66666 5.33335C2.66666 6.0406 2.94761 6.71887 3.44771 7.21897C3.94781 7.71907 4.62608 8.00002 5.33333 8.00002ZM11.3333 8.00002C11.8638 8.00002 12.3725 7.78931 12.7475 7.41423C13.1226 7.03916 13.3333 6.53045 13.3333 6.00002C13.3333 5.46959 13.1226 4.96088 12.7475 4.58581C12.3725 4.21073 11.8638 4.00002 11.3333 4.00002C10.8029 4.00002 10.2942 4.21073 9.91912 4.58581C9.54404 4.96088 9.33333 5.46959 9.33333 6.00002C9.33333 6.53045 9.54404 7.03916 9.91912 7.41423C10.2942 7.78931 10.8029 8.00002 11.3333 8.00002ZM2.99999 9.33335C2.07999 9.33335 1.33333 10.08 1.33333 11C1.33333 11 1.33333 14 5.33333 14C8.50399 14 9.16133 12.1147 9.29733 11.3334C9.33333 11.1294 9.33333 11 9.33333 11C9.33333 10.08 8.58666 9.33335 7.66666 9.33335H2.99999ZM10.6613 11.4667C10.646 11.7084 10.6058 11.9479 10.5413 12.1814C10.4573 12.4787 10.3187 12.8347 10.0853 13.2014C10.4944 13.293 10.9128 13.3373 11.332 13.3334C14.6653 13.3334 14.6653 11 14.6653 11C14.6653 10.08 13.9187 9.33335 12.9987 9.33335H10.16C10.48 9.81069 10.6653 10.3827 10.6653 11V11.3334L10.6613 11.4667Z" fill="#CCCCCC"/>
                                </svg>
                            </div>
                        </div>
                    </div>



                </div>

            </div>
        </div>

        <!-- Listen on ---------------  -->

        <div class="relative flex gap-x-2 items-center justify-between mb-8">
            <!-- <hr class="w-[65%] ml-auto h-px bg-white/30 rounded-full"> -->
            <span class=" bg-[#E84344]/80 inline-block py-1 px-4 rounded-bl-[20px] rounded-tr-[20px] shadow-card-shadow text-white/80 font-semibold text-lg">Listen on</span>
            <div v-if="userStore.isAdmin" @click.stop="open = true" class="group laptop:cursor-pointer">
                <svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path class="group-hover:fill-[#D9D9D9]/60 fill-[#D9D9D9] group-active:fill-[#D9D9D9] transition" d="M10.8827 1.84719C11.1608 1.5691 11.491 1.3485 11.8543 1.198C12.2176 1.0475 12.6071 0.970039 13.0003 0.970039C13.3936 0.970039 13.7831 1.0475 14.1464 1.198C14.5097 1.3485 14.8399 1.5691 15.118 1.84719C15.3961 2.12528 15.6167 2.45542 15.7672 2.81876C15.9177 3.1821 15.9951 3.57153 15.9951 3.96481C15.9951 4.35809 15.9177 4.74752 15.7672 5.11086C15.6167 5.4742 15.3961 5.80435 15.118 6.08244L14.228 6.97244L9.99271 2.7372L10.8827 1.84719ZM9.18497 3.54494L1.88896 10.8409C1.46181 11.2684 1.15721 11.8026 1.00695 12.3879L0.0129748 16.2564C-0.0116743 16.3527 -0.0107918 16.4537 0.0155353 16.5495C0.0418623 16.6453 0.0927234 16.7326 0.163096 16.8027C0.233469 16.8729 0.32092 16.9234 0.416814 16.9494C0.512708 16.9755 0.613728 16.976 0.7099 16.951L4.57726 15.9582C5.16266 15.8082 5.69696 15.5036 6.12421 15.0762L13.4202 7.78019L9.18497 3.54494Z"/>
                </svg>
            </div>
        </div>

        <div class="grid grid-cols-2 lg-tablet:grid-cols-3 gap-4 mb-8">

            <div class="flex gap-x-2 col-span-1 cursor-pointer group">
                <div>
                    <svg width="26" height="20" viewBox="0 0 26 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21.4853 15.6436C23.1635 14.4322 24.3064 12.8888 24.7694 11.2086C25.2324 9.52844 24.9948 7.78687 24.0865 6.20416C23.1783 4.62145 21.6402 3.26868 19.6668 2.31693C17.6934 1.36517 15.3734 0.857178 13 0.857178C10.6266 0.857178 8.30656 1.36517 6.33318 2.31693C4.35979 3.26868 2.82172 4.62145 1.91346 6.20416C1.00521 7.78687 0.767561 9.52844 1.23057 11.2086C1.69358 12.8888 2.83646 14.4322 4.51467 15.6436" class="group-hover:stroke-white/60 stroke-white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12.688 19.1429H13.312C13.9621 19.143 14.5898 18.9717 15.0772 18.6612C15.5646 18.3507 15.8781 17.9224 15.9587 17.4568L16.6253 13.6072C16.6722 13.3363 16.6388 13.0614 16.5272 12.8005C16.4156 12.5397 16.2285 12.2991 15.9782 12.0944C15.7279 11.8898 15.4201 11.726 15.0754 11.6138C14.7307 11.5016 14.3568 11.4436 13.9787 11.4437H12.0213C11.6432 11.4436 11.2693 11.5016 10.9246 11.6138C10.5799 11.726 10.2721 11.8898 10.0218 12.0944C9.77154 12.2991 9.58439 12.5397 9.47281 12.8005C9.36124 13.0614 9.32779 13.3363 9.37468 13.6072L10.0413 17.4568C10.122 17.9224 10.4354 18.3507 10.9228 18.6612C11.4102 18.9717 12.0379 19.143 12.688 19.1429ZM10.3333 6.63161C10.3333 7.1421 10.6143 7.63169 11.1144 7.99266C11.6145 8.35363 12.2928 8.55643 13 8.55643C13.7073 8.55643 14.3855 8.35363 14.8856 7.99266C15.3857 7.63169 15.6667 7.1421 15.6667 6.63161C15.6667 6.12111 15.3857 5.63153 14.8856 5.27055C14.3855 4.90958 13.7073 4.70679 13 4.70679C12.2928 4.70679 11.6145 4.90958 11.1144 5.27055C10.6143 5.63153 10.3333 6.12111 10.3333 6.63161Z" class="group-hover:stroke-white/60 stroke-white" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <a href="https://podcasts.apple.com/us/podcast/memories-of-a-poet-by-nyein-wai/id1710539517">
                    <span class="text-sm text-white group-hover:text-white/60 font-bold">Apple Podcasts</span>
                </a>

            </div>

            <div class="flex items-center gap-x-2 col-span-1 cursor-pointer group">
                <div>
                    <svg width="24" height="18" viewBox="0 0 24 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M9.522 11.8864V5.14337L16.006 8.52637L9.522 11.8864ZM23.76 3.97437C23.76 3.97437 23.525 2.32037 22.806 1.59237C21.893 0.636374 20.87 0.632374 20.401 0.576374C17.043 0.333374 12.005 0.333374 12.005 0.333374H11.995C11.995 0.333374 6.957 0.333374 3.599 0.576374C3.129 0.631374 2.107 0.636374 1.193 1.59237C0.474 2.32037 0.24 3.97437 0.24 3.97437C0.24 3.97437 0 5.91737 0 7.85837V9.68037C0 11.6224 0.24 13.5644 0.24 13.5644C0.24 13.5644 0.474 15.2174 1.193 15.9464C2.107 16.9024 3.306 16.8724 3.84 16.9724C5.76 17.1564 12 17.2134 12 17.2134C12 17.2134 17.043 17.2064 20.401 16.9634C20.871 16.9074 21.893 16.9024 22.806 15.9464C23.526 15.2174 23.76 13.5644 23.76 13.5644C23.76 13.5644 24 11.6224 24 9.67937V7.85937C24 5.91737 23.76 3.97437 23.76 3.97437Z" fill="white"/>
                    </svg>
                </div>
                <a href="https://www.youtube.com/@burmapodcastnetwork?si=CCWcFg9Q_CqYbK8z">
                    <span class="text-sm text-white group-hover:text-white/60 font-bold">YouTube</span>
                </a>

            </div>

            <!-- <div class="flex gap-x-2 col-span-1 cursor-pointer group">

                <div>
                    <svg width="32" height="14" viewBox="0 0 32 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5.57087 7.01248L5.86091 10.263L5.57087 13.6785C5.55587 13.8035 5.46085 13.8986 5.35083 13.8986C5.24082 13.8986 5.1408 13.8035 5.1408 13.6785L4.86076 10.263L5.1408 7.01248C5.1408 6.90246 5.23582 6.80244 5.35083 6.80244C5.46085 6.80244 5.55587 6.90246 5.57087 7.01248ZM6.64104 4.73212C6.50101 4.73212 6.406 4.84214 6.391 4.98216L6.14096 10.263L6.391 13.6785C6.406 13.8185 6.50101 13.9286 6.64104 13.9286C6.76606 13.9286 6.87607 13.8185 6.87607 13.6785L7.16612 10.263L6.87607 4.98216C6.87607 4.84214 6.76606 4.73212 6.64104 4.73212ZM7.91623 3.52693C7.76121 3.52693 7.65119 3.63695 7.63619 3.79197L7.41616 10.293L7.63619 13.6835C7.65119 13.8385 7.76121 13.9486 7.91623 13.9486C8.05626 13.9486 8.18128 13.8385 8.18128 13.6835L8.44632 10.293L8.18128 3.79197C8.18128 3.63695 8.05626 3.52693 7.91623 3.52693ZM0.360056 8.35769C0.290045 8.35769 0.250039 8.4127 0.235037 8.48271L0 10.263L0.235037 12.0133C0.250039 12.0833 0.290045 12.1383 0.360056 12.1383C0.430067 12.1383 0.470073 12.0833 0.485076 12.0133L0.765119 10.263L0.485076 8.48271C0.470073 8.4127 0.430067 8.35769 0.360056 8.35769ZM1.54024 7.26252C1.47023 7.26252 1.41522 7.31752 1.41522 7.38753L1.09517 10.263L1.41522 13.0684C1.41522 13.1534 1.47023 13.2084 1.54024 13.2084C1.61025 13.2084 1.66526 13.1534 1.68026 13.0834L2.04032 10.263L1.68026 7.38753C1.66526 7.31752 1.61025 7.26252 1.54024 7.26252ZM2.80544 6.69243C2.72042 6.69243 2.65041 6.76244 2.64041 6.85745L2.35037 10.263L2.64041 13.5535C2.65541 13.6385 2.72543 13.7085 2.80544 13.7085C2.89045 13.7085 2.96046 13.6385 2.96046 13.5535L3.30552 10.263L2.96046 6.85745C2.96046 6.76244 2.89045 6.69243 2.80544 6.69243ZM4.07063 6.58241C3.97562 6.58241 3.89061 6.65242 3.89061 6.76244L3.60056 10.263L3.89061 13.6535C3.89061 13.7635 3.97562 13.8335 4.07063 13.8335C4.16565 13.8335 4.25066 13.7635 4.26567 13.6535L4.58571 10.263L4.26567 6.76244C4.25066 6.65242 4.16565 6.58241 4.07063 6.58241ZM16.1425 1.03655C16.0875 0.996539 16.0025 0.966534 15.9325 0.966534C15.8225 0.966534 15.7225 1.00654 15.6524 1.06155C15.5574 1.14656 15.4974 1.27158 15.4874 1.3966V1.43661L15.3224 10.273L15.4074 11.8982L15.4924 13.4835C15.5074 13.7185 15.7024 13.9136 15.9375 13.9136C16.1725 13.9136 16.3676 13.7185 16.3676 13.4835L16.5626 10.273L16.3676 1.3966C16.3475 1.24658 16.2675 1.10656 16.1425 1.03655ZM14.8073 1.80166C14.7373 1.76166 14.6673 1.73165 14.5873 1.73165C14.5073 1.73165 14.4323 1.76166 14.3672 1.80166C14.2572 1.87168 14.1872 1.9967 14.1872 2.13672L14.1722 2.22173L14.0322 10.263C14.0322 10.263 14.0322 10.278 14.1872 13.5435V13.5585C14.1872 13.6435 14.2172 13.7235 14.2722 13.7935C14.3572 13.8885 14.4673 13.9486 14.5923 13.9486C14.7023 13.9486 14.8023 13.8935 14.8723 13.8235C14.9573 13.7535 14.9973 13.6585 14.9973 13.5435L15.0123 13.2084L15.1674 10.278L15.0023 2.13672C14.9873 1.9967 14.9173 1.87168 14.8073 1.80166ZM9.23644 2.92684C9.08142 2.92684 8.94639 3.06686 8.94639 3.23189L8.72636 10.263L8.94639 13.6235C8.9614 13.7885 9.08642 13.9136 9.23644 13.9136C9.40147 13.9136 9.52649 13.7885 9.54149 13.6235L9.79153 10.263L9.54149 3.23189C9.53149 3.06686 9.40647 2.92684 9.23644 2.92684ZM28.0744 6.06733C27.5343 6.06733 27.0192 6.17735 26.5441 6.37238C26.2241 2.83183 23.2536 0.0513916 19.6281 0.0513916C18.7379 0.0513916 17.8778 0.216417 17.1127 0.521465C16.8076 0.631482 16.7226 0.741499 16.7226 0.981537V13.4685C16.7226 13.7185 16.9176 13.8986 17.1527 13.9286H28.0694C30.2347 13.9286 32 12.1783 32 10.0129C32.005 7.8326 30.2397 6.06733 28.0744 6.06733ZM13.2371 3.05186C13.027 3.05186 12.862 3.21689 12.847 3.44192L12.682 10.278L12.847 13.5585C12.862 13.7685 13.027 13.9336 13.2371 13.9336C13.4471 13.9336 13.6121 13.7685 13.6121 13.5585L13.8072 10.278L13.6121 3.44192C13.5971 3.21689 13.4471 3.05186 13.2371 3.05186ZM10.5566 2.6618C10.3916 2.6618 10.2366 2.81682 10.2366 2.99685L10.0416 10.263L10.2366 13.6085C10.2516 13.7885 10.3916 13.9286 10.5566 13.9286C10.7367 13.9286 10.8767 13.7885 10.8917 13.6085L11.1117 10.263L10.8917 2.99685C10.8767 2.81682 10.7367 2.6618 10.5566 2.6618ZM11.8919 2.83183C11.6968 2.83183 11.5468 2.98685 11.5468 3.17688L11.3518 10.263L11.5468 13.5835C11.5618 13.7785 11.7018 13.9286 11.8919 13.9286C12.0819 13.9286 12.2369 13.7735 12.2369 13.5835L12.4469 10.263L12.2369 3.17688C12.2369 2.98185 12.0869 2.83183 11.8919 2.83183Z" class="fill-white group-hover:fill-white/80"/>
                    </svg>
                </div>
                <span class="text-sm text-white group-hover:text-white/80 font-bold">Sound Cloud</span>

            </div> -->

            <!-- <div class="flex gap-x-2 col-span-1 cursor-pointer group">
                <div>
                    <svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4.1978 0.193478C2.97464 0.503574 2.3889 0.848127 1.54474 1.76119C0.631678 2.74317 0.407719 3.29446 0.149304 5.03445C-0.126339 6.87781 0.0114823 18.9889 0.304353 20.1603C0.700589 21.6419 2.31999 23.313 3.8188 23.7609C4.85246 24.071 19.7372 24.0882 20.7708 23.7609C22.6831 23.1924 24.0613 21.573 24.4231 19.5229C24.6987 17.938 24.6643 5.6891 24.3886 4.32812C23.9924 2.41585 23.0621 1.26159 21.236 0.434664C20.409 0.0384274 20.3057 0.0384274 12.7255 0.00397301C7.02314 -0.0132561 4.83523 0.0212002 4.1978 0.193478ZM15.0168 5.91306C17.0324 6.42989 19.0997 7.75642 20.3401 9.30691C21.3221 10.5645 21.2015 11.4948 20.03 11.4948C19.5649 11.4948 19.3754 11.357 18.893 10.7024C18.1694 9.68592 16.6189 8.51444 15.3441 8.04929C13.8453 7.46355 11.554 7.39464 10.0208 7.84256C8.48749 8.32494 6.97146 9.30691 5.9378 10.5128C4.97305 11.6499 4.33563 11.8222 3.83602 11.0641C3.43979 10.4612 3.64652 10.0649 5.04196 8.66949C6.35126 7.34296 8.00512 6.34375 9.64174 5.91306C10.8994 5.56851 13.7075 5.56851 15.0168 5.91306ZM15.1891 9.90988C16.395 10.5128 17.8938 11.96 17.8938 12.5457C17.8938 12.9936 17.2908 13.5621 16.8429 13.5621C16.6189 13.5621 16.1366 13.2176 15.6714 12.7352C13.7075 10.6851 11.175 10.6507 9.15937 12.6146C8.16017 13.6138 7.71225 13.7516 7.17819 13.2693C6.73027 12.873 6.79918 12.3045 7.33324 11.6326C8.74591 9.94434 10.3825 9.22077 12.6738 9.30691C13.8281 9.3586 14.2588 9.46196 15.1891 9.90988ZM14.2243 13.7689C16.1538 15.0437 15.9643 18.0413 13.897 19.0922C12.8633 19.6263 11.2956 19.5057 10.3998 18.8338C9.21105 17.9207 8.81482 16.3703 9.43501 15.0265C10.0208 13.7516 10.9855 13.1831 12.4843 13.2693C13.2768 13.3037 13.7247 13.4243 14.2243 13.7689Z" class="fill-white group-hover:fill-white/80"/>
                    </svg>
                </div>
                <span class="text-sm text-white group-hover:text-white/80 font-bold">PodBean</span>
            </div> -->

            <div class="flex gap-x-2 col-span-1 cursor-pointer group">
                <div>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 0C5.37581 0 0 5.37581 0 12C0 18.6242 5.37581 24 12 24C18.6242 24 24 18.6242 24 12C24 5.37581 18.6242 0 12 0ZM16.8726 17.6565C16.6694 17.6565 16.5435 17.5935 16.3548 17.4823C13.3355 15.6629 9.82258 15.5855 6.35323 16.2968C6.16452 16.3452 5.91774 16.4226 5.77742 16.4226C5.30806 16.4226 5.0129 16.05 5.0129 15.6581C5.0129 15.1597 5.30806 14.9226 5.67097 14.8452C9.63387 13.9694 13.6839 14.0468 17.1387 16.1129C17.4339 16.3016 17.6081 16.471 17.6081 16.9113C17.6081 17.3516 17.2645 17.6565 16.8726 17.6565ZM18.1742 14.4823C17.9226 14.4823 17.7532 14.371 17.579 14.279C14.5548 12.4887 10.0452 11.7677 6.03387 12.8565C5.80161 12.9194 5.67581 12.9823 5.45806 12.9823C4.94032 12.9823 4.51935 12.5613 4.51935 12.0435C4.51935 11.5258 4.77097 11.1823 5.26935 11.0419C6.61452 10.6645 7.98871 10.3839 10.0016 10.3839C13.1419 10.3839 16.1758 11.1629 18.5661 12.5855C18.9581 12.8177 19.1129 13.1177 19.1129 13.5387C19.1081 14.0613 18.7016 14.4823 18.1742 14.4823ZM19.6742 10.7952C19.4226 10.7952 19.2677 10.7323 19.05 10.6065C15.6048 8.55 9.44516 8.05645 5.45806 9.16935C5.28387 9.21774 5.06613 9.29516 4.83387 9.29516C4.19516 9.29516 3.70645 8.79677 3.70645 8.15323C3.70645 7.49516 4.1129 7.12258 4.54839 6.99677C6.25161 6.49839 8.15806 6.26129 10.2339 6.26129C13.7661 6.26129 17.4677 6.99677 20.1726 8.57419C20.55 8.79193 20.7968 9.09194 20.7968 9.66774C20.7968 10.3258 20.2645 10.7952 19.6742 10.7952Z" class="fill-white group-hover:fill-white/80"/>
                    </svg>
                </div>
                <a href="https://open.spotify.com/show/0Ml7VnFRnoM4lsD99LyUgk">
                    <span class="text-sm text-white group-hover:text-white/80 font-bold">Spotify</span>
                </a>

            </div>

        </div>

        <Teleport to="body">
            <transition name="modal">
            
                <div v-if="open" class="modal-mask">

                    <div class="modal-container laptop:w-[40%] rounded-[15px] relative">

                        <button @click="open = false;" class="absolute left-[8px] top-[8px] group" type="button">
                            <div class="w-8 h-8">
                                <svg class="w-full h-full" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M6.2376 11.2624L8.5008 9ZM10.7632 6.7376L8.5008 9ZM8.5008 9L6.2376 6.7376ZM8.5008 9L10.7632 11.2624ZM8.5 17C12.9184 17 16.5 13.4184 16.5 9C16.5 4.5816 12.9184 1 8.5 1C4.0816 1 0.5 4.5816 0.5 9C0.5 13.4184 4.0816 17 8.5 17Z" class="fill-white/80 group-hover:fill-white/40 group-active:fill-white/60"/>
                                    <path d="M6.2376 11.2624L8.5008 9M8.5008 9L10.7632 6.7376M8.5008 9L6.2376 6.7376M8.5008 9L10.7632 11.2624M8.5 17C12.9184 17 16.5 13.4184 16.5 9C16.5 4.5816 12.9184 1 8.5 1C4.0816 1 0.5 4.5816 0.5 9C0.5 13.4184 4.0816 17 8.5 17Z" class="stroke-black/40" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </button>

                        <div class="flex gap-x-2 overflow-x-hidden">
                            <div class="login flex-none w-full" ref="loginref">
                                <h1 class="modal-header mb-4 text-white/80 text-lg font-semibold text-center">Manage platforms</h1>
                            </div>
                        </div>

                        <div class="flex overflow-hidden">

                            <div class="flex-none w-full" ref="mainLink">

                                <div class="space-y-4 tablet:flex gap-x-4 flex-nowrap">

                                    <div @click="openFile" 
                                    class="
                                    flex-none
                                    rounded-[15px] 
                                    cursor-pointer 
                                    hover:bg-white/30 
                                    transition aspect-square 
                                    overflow-hidden 
                                    group
                                    w-[40%]
                                    mx-auto
                                    laptop:aspect-square">
                                        <div :style="{'background-image' : `URL(${coverImg})`}" class="aspect-square w-full img_block flex justify-center items-center">
                                            <svg v-if="!coverImg"  class="w-16 h-16" viewBox="0 0 24 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path class="fill-[#CCCCCC] group-hover:fill-[#CCCCCC]/80 group-active:fill-[#CCCCCC]" d="M21.6 0H2.4C1.0764 0 0 1.0764 0 2.4V16.8C0 18.1236 1.0764 19.2 2.4 19.2H21.6C22.9236 19.2 24 18.1236 24 16.8V2.4C24 1.0764 22.9236 0 21.6 0ZM5.4 3.6C5.87739 3.6 6.33523 3.78964 6.67279 4.12721C7.01036 4.46477 7.2 4.92261 7.2 5.4C7.2 5.87739 7.01036 6.33523 6.67279 6.67279C6.33523 7.01036 5.87739 7.2 5.4 7.2C4.92261 7.2 4.46477 7.01036 4.12721 6.67279C3.78964 6.33523 3.6 5.87739 3.6 5.4C3.6 4.92261 3.78964 4.46477 4.12721 4.12721C4.46477 3.78964 4.92261 3.6 5.4 3.6ZM12 15.6H3.6L8.4 9.6L10.2 12L13.8 7.2L20.4 15.6H12Z"/>
                                            </svg>
                                        </div>

                                        <input hidden ref="imgInput" @change="onFileSelected" type="file" name="img" id="img">

                                    </div>

                                    <div class="flex-1 space-y-4">

                                        <div class="flex gap-x-2 items-center">
                                            <div>
                                                <svg width="24" height="17" viewBox="0 0 24 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <g clip-path="url(#clip0_1028_318)">
                                                        <path d="M23.4692 2.63195C23.3316 2.12324 23.0631 1.65946 22.6904 1.2868C22.3178 0.91414 21.854 0.6456 21.3453 0.507922C19.4829 0 11.9875 0 11.9875 0C11.9875 0 4.49163 0.0153745 2.62925 0.523297C2.12053 0.660983 1.65676 0.929536 1.28411 1.30221C0.911469 1.67489 0.642957 2.13869 0.505315 2.64742C-0.0580115 5.95651 -0.276536 10.9988 0.520783 14.1755C0.658439 14.6842 0.926958 15.148 1.2996 15.5207C1.67225 15.8933 2.13601 16.1619 2.64472 16.2995C4.5071 16.8075 12.0027 16.8075 12.0027 16.8075C12.0027 16.8075 19.4983 16.8075 21.3606 16.2995C21.8693 16.1619 22.3331 15.8933 22.7058 15.5207C23.0784 15.148 23.3469 14.6842 23.4846 14.1755C24.0788 10.8617 24.2619 5.82254 23.4692 2.63195Z" fill="#FF0000"/>
                                                        <path d="M9.60156 12.0053L15.8196 8.40368L9.60156 4.8021V12.0053Z" fill="white"/>
                                                    </g>
                                                    <defs>
                                                        <clipPath id="clip0_1028_318">
                                                            <rect width="24" height="16.8745" fill="white"/>
                                                        </clipPath>
                                                    </defs>
                                                </svg>
                                            </div>

                                            <div class="flex-1">
                                                <input type="text" class="focus:outline-none
                                                appearance-none 
                                                border
                                                top-[32px]
                                                left-0
                                                border-white/40 
                                                pl-2 py-1
                                                transition
                                                rounded-[10px] 
                                                text-base 
                                                text-white/80 focus:border-white/80
                                                bg-white/10
                                                placeholder:text-white/40
                                                w-full"
                                                placeholder="YouTube channel"
                                                v-model="showStore.urls.youtube">
                                            </div>
                                        </div>

                                        <div class="flex gap-x-2 items-center">
                                            <div class="">
                                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <g clip-path="url(#clip0_1028_323)">
                                                        <path d="M18.6683 0H5.21739C2.33591 0 0 2.33591 0 5.21739V18.6683C0 21.5498 2.33591 23.8857 5.21739 23.8857H18.6683C21.5498 23.8857 23.8857 21.5498 23.8857 18.6683V5.21739C23.8857 2.33591 21.5498 0 18.6683 0Z" fill="url(#paint0_linear_1028_323)"/>
                                                        <path d="M13.3596 13.9963C13.3364 13.7868 13.2666 13.6356 13.1272 13.496C12.8656 13.2225 12.4065 13.0422 11.8659 13.0422C11.3254 13.0422 10.8662 13.2167 10.6047 13.496C10.471 13.6414 10.3954 13.7868 10.3722 13.9963C10.3257 14.4035 10.3547 14.7525 10.4013 15.3168C10.4477 15.852 10.5349 16.5675 10.6454 17.2889C10.7267 17.8066 10.7907 18.0859 10.8488 18.2836C10.9476 18.6094 11.3021 18.8887 11.8659 18.8887C12.4297 18.8887 12.7901 18.6036 12.883 18.2836C12.9412 18.0859 13.0051 17.8066 13.0865 17.2889C13.1969 16.5617 13.2841 15.852 13.3306 15.3168C13.3829 14.7525 13.4061 14.4035 13.3596 13.9963Z" fill="white"/>
                                                        <path d="M13.2951 11.0292C13.2951 11.8204 12.6558 12.4603 11.8653 12.4603C11.0749 12.4603 10.4355 11.8204 10.4355 11.0292C10.4355 10.2381 11.0749 9.59818 11.8653 9.59818C12.6558 9.59818 13.2951 10.2439 13.2951 11.0292Z" fill="white"/>
                                                        <path d="M11.8483 5.39218C8.51213 5.40381 5.7804 8.11469 5.73392 11.4538C5.69904 14.1589 7.42524 16.4742 9.83732 17.3235C9.89544 17.3468 9.95356 17.2945 9.94774 17.2363C9.91868 17.0269 9.88381 16.8174 9.86056 16.608C9.84893 16.5324 9.80244 16.4742 9.7385 16.4393C7.83209 15.6074 6.50111 13.6935 6.52435 11.4771C6.55341 8.56844 8.9248 6.20077 11.8251 6.1775C14.7951 6.15423 17.2188 8.56263 17.2188 11.5295C17.2188 13.7226 15.8936 15.6074 14.0047 16.4393C13.9349 16.4684 13.8884 16.5324 13.8826 16.608C13.8535 16.8174 13.8245 17.0269 13.7954 17.2363C13.7838 17.3003 13.8477 17.3468 13.9058 17.3235C16.2946 16.4859 18.0092 14.2054 18.0092 11.5295C17.9976 8.14378 15.2368 5.38636 11.8483 5.39218Z" fill="white"/>
                                                        <path d="M11.7085 7.42816C9.53474 7.5096 7.79109 9.30718 7.76203 11.4829C7.7446 12.9139 8.45949 14.1821 9.55799 14.9325C9.61029 14.9674 9.68587 14.9267 9.68587 14.8627C9.66841 14.6126 9.66841 14.3915 9.68005 14.1588C9.68587 14.0832 9.6568 14.0134 9.59868 13.961C8.93028 13.3328 8.52343 12.4369 8.54667 11.4479C8.59316 9.70276 9.9939 8.28331 11.7376 8.21351C13.6323 8.13788 15.19 9.66204 15.19 11.5352C15.19 12.4893 14.7832 13.3502 14.138 13.961C14.0857 14.0134 14.0566 14.0832 14.0566 14.1588C14.0682 14.3857 14.0624 14.6068 14.0508 14.8569C14.045 14.9209 14.1206 14.9674 14.1787 14.9267C15.2597 14.1879 15.9746 12.9372 15.9746 11.5294C15.9805 9.2141 14.045 7.33508 11.7085 7.42816Z" fill="white"/>
                                                    </g>
                                                    <defs>
                                                        <linearGradient id="paint0_linear_1028_323" x1="11.9428" y1="0" x2="11.9428" y2="23.8857" gradientUnits="userSpaceOnUse">
                                                            <stop stop-color="#F452FF"/>
                                                            <stop offset="1" stop-color="#832BC1"/>
                                                        </linearGradient>
                                                        <clipPath id="clip0_1028_323">
                                                            <rect width="24" height="24" fill="white"/>
                                                        </clipPath>
                                                    </defs>
                                                </svg>
                                            </div>

                                            <div class="flex-1">
                                                <input type="text" class="focus:outline-none
                                                appearance-none 
                                                border
                                                top-[32px]
                                                left-0
                                                border-white/40 
                                                pl-2 py-1
                                                transition
                                                rounded-[10px] 
                                                text-base 
                                                text-white/80 focus:border-white/80
                                                bg-white/10
                                                placeholder:text-white/40
                                                w-full"
                                                placeholder="Apple podcast"
                                                v-model="showStore.urls.apple">
                                            </div>
                                        </div>

                                        <div class="flex gap-x-2 items-center">
                                            <div class="">
                                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <g clip-path="url(#clip0_354_2642)">
                                                        <rect width="24" height="24" rx="2" fill="white"/>
                                                        <path d="M0 12V24H12H24V12V-9.53674e-07H12H0V12ZM14.0438 4.88437C14.2875 4.94062 14.8781 5.175 15.3656 5.40937C16.0688 5.74687 16.3781 5.9625 16.9125 6.49687C17.9531 7.54687 18.45 8.55937 18.6563 10.0406C18.7781 10.9406 18.6656 11.25 18.1969 11.25C17.8125 11.25 17.7281 11.0906 17.625 10.2562C17.4844 9.04687 17.1188 8.23125 16.3219 7.36875C15.4969 6.47812 14.4375 5.9625 13.1344 5.8125C12.4125 5.7375 12.1875 5.59687 12.1875 5.24062C12.1875 4.8 13.0031 4.64062 14.0438 4.88437ZM13.7906 6.61875C15.3094 7.06875 16.35 8.0625 16.7906 9.47812C17.1188 10.5281 16.9781 11.25 16.4438 11.25C16.1531 11.25 15.975 10.9406 15.9094 10.3406C15.75 8.90625 14.5219 7.69687 13.05 7.5375C12.4688 7.47187 12.1875 7.29375 12.1875 7.00312C12.1875 6.47812 12.8156 6.32812 13.7906 6.61875ZM12.4406 10.5281C14.925 13.0031 15.1875 13.3031 15.1875 13.575C15.1875 13.9875 14.8313 14.3437 14.4188 14.3437C14.1469 14.3437 13.8469 14.0812 11.3719 11.5969C8.9625 9.1875 8.625 8.82187 8.625 8.56875C8.625 8.15625 9 7.78125 9.39375 7.78125C9.66563 7.78125 9.96563 8.04375 12.4406 10.5281ZM13.8844 8.4C14.3625 8.63437 14.9531 9.24375 15.1406 9.69375C15.2063 9.85312 15.2906 10.1812 15.3281 10.425C15.3844 10.7906 15.3656 10.8844 15.1969 11.0531C14.7844 11.4656 14.4188 11.2406 14.25 10.4719C14.1938 10.2094 14.0719 9.89062 13.9781 9.77812C13.7438 9.49687 13.2094 9.1875 12.9656 9.1875C12.4406 9.1875 12.1031 8.84062 12.2344 8.42812C12.3656 8.025 13.0969 8.00625 13.8844 8.4ZM10.8469 12.1125C12.1031 13.3687 13.125 14.4187 13.125 14.4562C13.125 14.4937 12.9469 14.5687 12.7313 14.625C11.85 14.85 10.9969 15.2437 10.1906 15.7781L9.35625 16.3406L7.9875 14.9719L6.62813 13.6125L6.90938 13.2469C7.5375 12.4312 8.11875 11.25 8.34375 10.3312C8.4 10.0687 8.48438 9.84375 8.5125 9.84375C8.55 9.84375 9.6 10.8656 10.8469 12.1125ZM8.09063 17.5781C6.825 18.8719 6.60938 19.0312 6.12188 19.0312C5.71875 19.0312 5.6625 18.9937 4.95 18.3C4.15313 17.5312 3.9375 17.2219 3.9375 16.8281C3.9375 16.4344 4.0875 16.2375 5.1375 15.1594L6.14063 14.1562L7.48125 15.4969L8.8125 16.8281L8.09063 17.5781ZM10.4531 18.9281C10.9219 19.4156 11.0063 19.5469 11.0063 19.8375C11.0063 20.1 10.9406 20.2312 10.7438 20.4C10.2469 20.8312 10.1344 20.7656 8.30625 19.0219L8.025 18.7594L8.54063 18.2156L9.04688 17.6625L9.46875 18.0094C9.70313 18.2062 10.1438 18.6187 10.4531 18.9281Z" fill="#B40404"/>
                                                        <path d="M6.18759 16.2844C5.89697 16.5375 5.81259 16.6875 5.83134 16.8656C5.87822 17.2594 6.23447 17.2406 6.66572 16.8188C7.04072 16.4531 7.11572 16.2469 6.91884 16.05C6.74072 15.8719 6.59072 15.9188 6.18759 16.2844Z" fill="#B40404"/>
                                                    </g>
                                                    <defs>
                                                        <clipPath id="clip0_354_2642">
                                                            <rect width="24" height="24" rx="2" fill="white"/>
                                                        </clipPath>
                                                    </defs>
                                                </svg>
                                            </div>

                                            <div class="flex-1">
                                                <input type="text" class="focus:outline-none
                                                appearance-none 
                                                border
                                                top-[32px]
                                                left-0
                                                border-white/40 
                                                pl-2 py-1
                                                transition
                                                rounded-[10px] 
                                                text-base 
                                                text-white/80 focus:border-white/80
                                                bg-white/10
                                                placeholder:text-white/40
                                                w-full"
                                                placeholder="InforMM"
                                                v-model="showStore.urls.informm">
                                            </div>
                                        </div>

                                        <div @click.stop="scrollToSpotify" class="">
                                            <svg width="65" height="20" viewBox="0 0 65 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M10.4954 0C4.99657 0 0.538574 4.45787 0.538574 9.95675C0.538574 15.4559 4.99657 19.9134 10.4954 19.9134C15.9949 19.9134 20.4524 15.4559 20.4524 9.95675C20.4524 4.45825 15.9949 0.0005 10.4953 0.0005L10.4954 0ZM15.0617 14.3605C15.0192 14.4301 14.9634 14.4907 14.8975 14.5387C14.8315 14.5868 14.7568 14.6213 14.6775 14.6404C14.5982 14.6595 14.5159 14.6628 14.4353 14.6501C14.3548 14.6374 14.2775 14.6089 14.2079 14.5662C11.8702 13.1382 8.9272 12.8149 5.46132 13.6067C5.30084 13.6432 5.13243 13.6145 4.99311 13.5269C4.85378 13.4393 4.75495 13.3 4.71832 13.1395C4.70007 13.0601 4.69767 12.9778 4.71126 12.8974C4.72485 12.817 4.75417 12.7401 4.79752 12.6711C4.84088 12.6021 4.89743 12.5423 4.96393 12.4951C5.03043 12.448 5.10558 12.4144 5.18507 12.3964C8.97795 11.5297 12.2313 11.9029 14.8559 13.5069C14.9255 13.5494 14.9861 13.6052 15.0341 13.6712C15.0821 13.7371 15.1166 13.8118 15.1357 13.8911C15.1548 13.9704 15.1581 14.0527 15.1454 14.1333C15.1326 14.2138 15.1042 14.2911 15.0616 14.3606M16.2803 11.6495C16.0554 12.0147 15.5776 12.1301 15.2124 11.9054C12.5362 10.2604 8.45632 9.78387 5.2907 10.7449C5.09364 10.8045 4.88098 10.7836 4.69936 10.6866C4.51775 10.5896 4.38201 10.4246 4.32195 10.2276C4.26255 10.0306 4.28368 9.81807 4.3807 9.6366C4.47773 9.45513 4.64274 9.31952 4.83957 9.2595C8.4557 8.16225 12.9511 8.69375 16.0246 10.5824C16.3896 10.8071 16.5049 11.2851 16.2802 11.6496L16.2803 11.6495ZM16.3848 8.82638C13.1761 6.92025 7.88132 6.745 4.81745 7.675C4.32545 7.82425 3.8052 7.5465 3.6562 7.0545C3.58452 6.81814 3.60963 6.56299 3.726 6.34514C3.84238 6.12729 4.04051 5.96457 4.27682 5.89275C7.79395 4.825 13.6408 5.03125 17.3354 7.22463C17.4407 7.28692 17.5327 7.36937 17.6061 7.46726C17.6795 7.56515 17.7328 7.67656 17.7631 7.7951C17.7933 7.91364 17.7999 8.03699 17.7824 8.15808C17.765 8.27916 17.7238 8.39561 17.6612 8.50075C17.3997 8.94325 16.8266 9.08913 16.3854 8.82638H16.3848ZM27.6278 9.19162C25.9086 8.78162 25.6031 8.494 25.6031 7.88938C25.6031 7.31813 26.1404 6.93375 26.9406 6.93375C27.7158 6.93375 28.4839 7.22575 29.2901 7.82662C29.3138 7.84475 29.3447 7.852 29.3744 7.84725C29.3894 7.84511 29.4038 7.83994 29.4167 7.83205C29.4296 7.82417 29.4407 7.81373 29.4494 7.80137L30.2888 6.61812C30.3054 6.59467 30.3124 6.56578 30.3085 6.53733C30.3045 6.50888 30.2898 6.48301 30.2674 6.465C29.3079 5.69538 28.2283 5.32125 26.9656 5.32125C25.1096 5.32125 23.8124 6.43513 23.8124 8.029C23.8124 9.73813 24.9312 10.3434 26.8646 10.8105C28.5089 11.1894 28.7871 11.5068 28.7871 12.0743C28.7871 12.7033 28.2258 13.0944 27.3223 13.0944C26.3188 13.0944 25.4996 12.7556 24.5841 11.9636C24.5612 11.9444 24.5319 11.9346 24.5021 11.9364C24.4872 11.9374 24.4727 11.9414 24.4594 11.9481C24.4461 11.9548 24.4343 11.9641 24.4247 11.9755L23.4831 13.0955C23.4642 13.118 23.4547 13.1469 23.4567 13.1762C23.4587 13.2055 23.472 13.2328 23.4938 13.2525C24.5591 14.2037 25.8693 14.7055 27.2842 14.7055C29.2842 14.7055 30.5766 13.6127 30.5766 11.9209C30.5801 10.4932 29.7253 9.70262 27.6314 9.19325L27.6278 9.19162ZM35.1018 7.49613C34.2351 7.49613 33.5241 7.83763 32.9367 8.53738V7.74988C32.9367 7.68763 32.8867 7.637 32.8249 7.637H31.2852C31.2554 7.63717 31.227 7.64913 31.206 7.67027C31.1851 7.6914 31.1733 7.71999 31.1734 7.74975V16.5009C31.1734 16.5626 31.2235 16.6138 31.2852 16.6138H32.8249C32.8547 16.6135 32.8832 16.6015 32.9041 16.5804C32.925 16.5592 32.9368 16.5306 32.9367 16.5009V13.7388C33.5241 14.3963 34.2351 14.7185 35.1017 14.7185C36.7129 14.7185 38.3442 13.4785 38.3442 11.1077C38.3466 8.7365 36.7152 7.496 35.103 7.496L35.1018 7.49613ZM36.5536 11.1077C36.5536 12.3144 35.8105 13.1574 34.7451 13.1574C33.6928 13.1574 32.8986 12.2764 32.8986 11.1077C32.8986 9.939 33.6928 9.05812 34.7451 9.05812C35.7926 9.05812 36.5536 9.91987 36.5536 11.1077ZM42.5234 7.49613C40.4487 7.49613 38.8233 9.09363 38.8233 11.1336C38.8233 13.1515 40.4379 14.7316 42.4984 14.7316C44.5803 14.7316 46.2104 13.1396 46.2104 11.1077C46.2104 9.08275 44.5911 7.4965 42.5234 7.4965V7.49613ZM42.5234 13.1692C41.4201 13.1692 40.5878 12.2823 40.5878 11.1071C40.5878 9.92663 41.3916 9.06987 42.4984 9.06987C43.6089 9.06987 44.4459 9.9565 44.4459 11.1329C44.4459 12.3133 43.6374 13.1692 42.5234 13.1692ZM50.6406 7.637H48.9463V5.905C48.9463 5.84288 48.8963 5.79225 48.8346 5.79225H47.2948C47.2649 5.79232 47.2363 5.80421 47.2151 5.82533C47.1939 5.84645 47.182 5.87509 47.1818 5.905V7.63688H46.4423C46.4126 7.63704 46.3841 7.649 46.3631 7.67014C46.3422 7.69128 46.3305 7.71986 46.3306 7.74963V9.07263C46.3305 9.1024 46.3422 9.131 46.3631 9.15215C46.3841 9.17331 46.4126 9.1853 46.4423 9.1855H47.1818V12.6093C47.1818 13.992 47.8703 14.6935 49.2293 14.6935C49.7809 14.6935 50.2387 14.5793 50.6703 14.3344C50.6878 14.3248 50.7023 14.3107 50.7124 14.2935C50.7224 14.2764 50.7276 14.2568 50.7274 14.2369V12.9765C50.7274 12.9574 50.7224 12.9387 50.713 12.9221C50.7037 12.9054 50.6902 12.8915 50.674 12.8815C50.6578 12.8711 50.6391 12.8652 50.6199 12.8643C50.6006 12.8635 50.5815 12.8677 50.5644 12.8766C50.2684 13.0254 49.9819 13.0942 49.6608 13.0942C49.1674 13.0942 48.9463 12.8695 48.9463 12.3678V9.18625H50.6406C50.6704 9.18608 50.6989 9.1741 50.7198 9.15294C50.7408 9.13177 50.7525 9.10316 50.7523 9.07337V7.75037C50.7528 7.73562 50.7503 7.72091 50.745 7.70714C50.7397 7.69337 50.7316 7.68083 50.7212 7.67028C50.7109 7.65972 50.6985 7.65138 50.6849 7.64574C50.6712 7.64011 50.6566 7.6373 50.6418 7.6375L50.6406 7.637ZM56.5427 7.64375V7.431C56.5427 6.80525 56.7828 6.52625 57.3202 6.52625C57.6414 6.52625 57.8993 6.59 58.1883 6.68625C58.2052 6.69194 58.2233 6.69349 58.2409 6.69078C58.2586 6.68807 58.2753 6.68118 58.2897 6.67068C58.3042 6.66019 58.3159 6.64639 58.3239 6.63044C58.3319 6.61449 58.336 6.59685 58.3358 6.579L58.3357 5.28188C58.336 5.25764 58.3284 5.23398 58.314 5.21446C58.2996 5.19495 58.2793 5.18066 58.2561 5.17375C57.9517 5.083 57.5617 4.99 56.9767 4.99C55.5558 4.99 54.8032 5.79063 54.8032 7.3045V7.63025H54.0637C54.0338 7.63032 54.0051 7.64221 53.984 7.66333C53.9628 7.68445 53.9508 7.71309 53.9507 7.743V9.07275C53.9507 9.13488 54.0019 9.18563 54.0637 9.18563H54.8032V14.4653C54.8032 14.5283 54.8544 14.5782 54.9162 14.5782H56.4547C56.5177 14.5782 56.5677 14.5283 56.5677 14.4653V9.18587H58.0052L60.2072 14.4651C59.9574 15.0193 59.7113 15.1298 59.3759 15.1298C59.1049 15.1298 58.8184 15.049 58.5272 14.8885C58.4996 14.8745 58.4677 14.8715 58.438 14.8801C58.4233 14.8851 58.4097 14.893 58.3983 14.9034C58.3868 14.9139 58.3776 14.9266 58.3713 14.9408L57.8494 16.0858C57.8374 16.1118 57.8358 16.1414 57.8448 16.1685C57.8539 16.1957 57.873 16.2184 57.8982 16.232C58.4427 16.5269 58.9337 16.6529 59.5413 16.6529C60.6779 16.6529 61.307 16.1226 61.8598 14.6982L64.5303 7.79775C64.5373 7.78069 64.5398 7.76216 64.5378 7.74386C64.5357 7.72556 64.529 7.70807 64.5184 7.693C64.5084 7.6779 64.4948 7.66552 64.4788 7.65697C64.4628 7.64842 64.445 7.64396 64.4268 7.644H62.8241C62.8006 7.64387 62.7776 7.65109 62.7584 7.66465C62.7393 7.67821 62.7248 7.69743 62.7171 7.71962L61.0751 12.4082L59.2773 7.7165C59.2693 7.69524 59.255 7.67693 59.2363 7.66399C59.2176 7.65104 59.1954 7.64407 59.1727 7.644H56.5427V7.64375ZM53.1208 7.637H51.5811C51.5512 7.63713 51.5226 7.64905 51.5014 7.67016C51.4803 7.69127 51.4684 7.71988 51.4682 7.74975V14.4653C51.4682 14.5283 51.5193 14.5782 51.5811 14.5782H53.1208C53.1827 14.5782 53.2338 14.5283 53.2338 14.4653V7.75025C53.2339 7.7354 53.231 7.72069 53.2253 7.70697C53.2197 7.69324 53.2113 7.68077 53.2008 7.67028C53.1903 7.65979 53.1778 7.65148 53.1641 7.64583C53.1504 7.64018 53.1357 7.63731 53.1208 7.63737V7.637ZM52.3598 4.579C51.7498 4.579 51.2553 5.07275 51.2553 5.6825C51.2553 5.82755 51.2839 5.97118 51.3394 6.10519C51.3949 6.2392 51.4762 6.36097 51.5788 6.46354C51.6814 6.5661 51.8031 6.64746 51.9371 6.70296C52.0711 6.75846 52.2148 6.78702 52.3598 6.787C52.9698 6.787 53.4632 6.29275 53.4632 5.6825C53.4631 5.38988 53.3469 5.10925 53.14 4.90233C52.9331 4.6954 52.6524 4.5791 52.3598 4.579Z" fill="#1ED760"/>
                                            </svg>
                                        </div>

                                    </div>  

                                </div>

                                <div class="flex justify-between items-center my-4">
                                    <div class="rounded-full bg-white/10 group laptop:cursor-pointer hover:bg-white/5 active:bg-white/10 transition inline-block px-2 py-1">
                                        <div @click.stop="copyToClipboard" class="flex gap-x-1 items-center">
                                            <span class="text-white font-medium text-sm">Copy url</span>
                                            <div>
                                                <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                    <path class="group-hover:fill-[#DDDDDD]/80 fill-[#DDDDDD] group-active:fill-[#DDDDDD] transition" d="M1.6 3.336V13.6C1.59984 14.6155 1.98597 15.5931 2.68006 16.3345C3.37416 17.0758 4.32424 17.5254 5.3376 17.592L5.6 17.6H12.6624C12.497 18.0679 12.1906 18.473 11.7854 18.7595C11.3803 19.046 10.8962 19.1999 10.4 19.2H4.8C3.52696 19.2 2.30606 18.6943 1.40589 17.7941C0.505713 16.8939 3.29979e-07 15.673 3.29979e-07 14.4V5.6C-0.000259968 5.10348 0.153484 4.6191 0.440045 4.21361C0.726606 3.80813 1.13188 3.50151 1.6 3.336ZM13.6 0C14.2365 0 14.847 0.252856 15.2971 0.702944C15.7471 1.15303 16 1.76348 16 2.4V13.6C16 14.2365 15.7471 14.847 15.2971 15.2971C14.847 15.7471 14.2365 16 13.6 16H5.6C4.96348 16 4.35303 15.7471 3.90294 15.2971C3.45286 14.847 3.2 14.2365 3.2 13.6V2.4C3.2 1.76348 3.45286 1.15303 3.90294 0.702944C4.35303 0.252856 4.96348 0 5.6 0H13.6Z" />
                                                </svg>
                                            </div>
                                        </div>
                                    </div>

                                    <span @click.stop="preview" class="text-[#8583FF] border-b border-[#8583FF] laptop:cursor-pointer hover:text-[#8583FF]/80 transition text-sm">preview</span>
                                </div>

                                <div class="text-right">
                                    <button @click.stop="saveURL" class=" 
                                        text-black/80
                                        bg-white/80
                                        hover:bg-white/60
                                        active:bg-white/80
                                        rounded-full
                                        px-4  py-1
                                        font-medium" 
                                        >
                                        Save
                                    </button>
                                </div>

                            </div>

                            <div ref="spotifyLink" class="flex-none relative w-full">
                                <spotifyComponent />

                                <div class="absolute bottom-0 left-0 w-4 h-3">
                                    <svg @click.stop="scrollToMain" class="w-full h-full cursor-pointer" viewBox="0 0 25 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path class="fill-white/80 hover:fill-white/40" d="M24.792 9.63761H5.78124L12.6799 2.73894L10.837 0.895996L0.791992 10.941L10.837 20.9859L12.6799 19.143L5.78124 12.2443H24.792V9.63761Z"/>
                                    </svg>
                                </div>
                            </div>

                            
                        </div>


                    </div>

                </div>

            </transition>
        </Teleport>	

    </div>

</template>

<script setup>
import popupEpiComponent from './popupEpiComponent.vue';
import { onMounted, ref } from 'vue';
import { useShowsStore } from '../stores/ShowsStore.js';
import { useForumStore } from '../stores/forumStore.js';
import { useRouter } from 'vue-router';
import { useUserStore } from '../stores/userStore';
import { useNotificationStore } from '../stores/NotiStore';
import spotifyComponent from './spotifyComponent.vue';

const notificationStore = useNotificationStore();

const forumStore = useForumStore();
const showStore = useShowsStore();
const router = useRouter();
const open = ref(false);
const userStore = useUserStore();

const spotifyLink = ref(null);
const mainLink = ref(null);

const coverImg = ref('');
// const img = ref();
const imgInput = ref(null);

onMounted(async () => {

    if (!showStore.shows.length) {

        await showStore.fetchShows().then(res => {
            return res;
        }).catch(error => {
            if (error.response.status === 401) {
                localStorage.removeItem('token');
                localStorage.removeItem('user_level');
                console.log('token clear');
                router.push({name : 'home'});
            }
        });

    }

    if (!forumStore.forums.length)

    {
        await forumStore.getForums();
    }

    await showStore.getURLS();

    coverImg.value = showStore.thumb;

})

function scrollToSpotify() {
    spotifyLink.value.scrollIntoView({behavior : 'smooth', inline : 'end'});
}

function scrollToMain() {
    mainLink.value.scrollIntoView({behavior : 'smooth', inline : 'end'});
}


function getDate(date) {
    const created_at = new Date(date);

    return created_at.toLocaleDateString(undefined, {
        month : 'short',
        day : 'numeric'
    });
}

function preview() {
    window.open('https://burmapodcast.network/links', '_blank');
    return;
}

function routeToshow(showid) {
    router.push({
        name : 'show',
        params : {
            id : showid
        }
    })
}

function openFile() {
    imgInput.value.click();
}

function onFileSelected(e) {
    const files = e.target.files;
    if (files.length) {
        const reader = new FileReader();

        reader.onload = (e) => {
            
            coverImg.value = e.target.result;
        
        }
        reader.readAsDataURL(files[0]);
        showStore.thumb = files[0];
    }
}

function saveURL() {

    if (showStore.urls.apple || showStore.urls.youtube || showStore.urls.spotify || showStore.urls.informm || showStore.thumb) {
        console.log('saveURL');
        showStore.saveURL().then(res => {
            if (res.status === 200) {
                console.log(res.status);
                open.value = false;
                return;
            }
        });
    }

}

function copyToClipboard() {
    const texttoCopy = `https://burmapodcast.network/links`;

    navigator.clipboard.writeText(texttoCopy);

    notificationStore.showNotification('link has been copied.')

}

function routeToForum(showId, forumId) {

    router.push({
        name : 'audienceforum',
        params : {
            showId : showId,
            forumid : forumId
        }
    });

}
</script>

<style>
.showList-enter-active,
.showList-leave-active {
  transition: all 0.5s ease;
}
.showList-enter-from,
.showList-leave-to {
  opacity: 0;
}
</style>