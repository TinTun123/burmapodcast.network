<template>
    <div class="flex justify-center items-center py-4 z-[9999] tablet:fixed tablet:top-[30%] tablet:left-[20%] -tablet:translate-x-[50%] relative">
        <div class="flex lg-tablet:flex-row flex-col gap-4">
            <div id="thumbnail" class="w-[214px] flex-none mx-auto aspect-square rounded-[8px] overflow-hidden">
                <img :src="showStore.thumb" class="w-full h-full" alt="">
            </div>

            <div class="grid grid-cols-1 items-stretch tablet:grid-cols-2 gap-4 w-full">

                <div @click.stop="dropSpotify = !dropSpotify" class="p-4 group flex gap-x-12 laptop:cursor-pointer bg-[#1D1D1D] h-[64px] justify-between items-center rounded-[4px] shadow-card-shadow relative">
                    <div class="h-[48px]">
                        <svg class="h-full" viewBox="0 0 31 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                            
                            <mask id="mask0_1054_315" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="31" height="10">
                                <path d="M31 0H0V9.3124H31V0Z" fill="white"/>
                            </mask>

                            <g mask="url(#mask0_1054_315)">
                                <path d="M4.64883 0.00756836C2.08141 0.00756836 0 2.08892 0 4.65635C0 7.22388 2.08141 9.30507 4.64883 9.30507C7.21653 9.30507 9.29772 7.22388 9.29772 4.65635C9.29772 2.08909 7.21658 0.00756836 4.64883 0.00756836ZM6.78076 6.71244C6.76092 6.74495 6.73486 6.77322 6.70408 6.79565C6.6733 6.81807 6.63841 6.83421 6.60138 6.84313C6.56436 6.85205 6.52594 6.85358 6.48833 6.84763C6.45071 6.84169 6.41464 6.82838 6.38217 6.80848C5.29067 6.14177 3.91661 5.99077 2.29841 6.36049C2.22348 6.37753 2.14485 6.36412 2.0798 6.32321C2.01475 6.2823 1.96861 6.21724 1.95151 6.14232C1.94299 6.10523 1.94187 6.06682 1.94822 6.02929C1.95457 5.99176 1.96826 5.95586 1.9885 5.92363C2.00875 5.8914 2.03515 5.86348 2.0662 5.84147C2.09725 5.81946 2.13234 5.80379 2.16945 5.79536C3.94032 5.39078 5.45932 5.56498 6.68472 6.31386C6.82128 6.39768 6.86458 6.57588 6.78076 6.71244ZM7.34976 5.44663C7.24484 5.61717 7.02168 5.67101 6.85126 5.56609C5.60166 4.79802 3.69684 4.57557 2.2188 5.02423C2.02712 5.08213 1.82466 4.9741 1.76648 4.78275C1.73872 4.69075 1.74858 4.5915 1.79389 4.50676C1.8392 4.42202 1.91626 4.35871 2.00819 4.33071C3.6965 3.81843 5.7954 4.06658 7.23041 4.9484C7.40084 5.05332 7.45468 5.27643 7.34976 5.44663ZM7.39862 4.12853C5.90032 3.2386 3.42832 3.15677 1.9978 3.59094C1.76809 3.66061 1.52517 3.53093 1.45555 3.30122C1.42208 3.19085 1.43381 3.07171 1.48816 2.97C1.54251 2.86828 1.63503 2.79231 1.74539 2.7588C3.38752 2.26029 6.11737 2.35661 7.84239 3.38066C7.89155 3.40974 7.93449 3.44824 7.96876 3.49394C8.00302 3.53965 8.02793 3.59166 8.04206 3.64701C8.05619 3.70236 8.05926 3.75995 8.0511 3.81648C8.04294 3.87302 8.0237 3.92739 7.99449 3.97648C7.87236 4.1831 7.60457 4.25121 7.39862 4.12853ZM12.6479 4.29906C11.8452 4.10765 11.7025 3.97331 11.7025 3.69103C11.7025 3.42434 11.9535 3.24487 12.3271 3.24487C12.689 3.24487 13.0476 3.38116 13.424 3.66172C13.4351 3.67021 13.4495 3.6736 13.4634 3.67138C13.4704 3.67038 13.4771 3.66796 13.4831 3.66427C13.4891 3.66059 13.4943 3.65571 13.4984 3.64995L13.8903 3.09748C13.8981 3.08653 13.9013 3.07304 13.8995 3.05976C13.8976 3.04647 13.8908 3.0344 13.8803 3.02598C13.4323 2.66665 12.9283 2.49195 12.3387 2.49195C11.4722 2.49195 10.8665 3.01205 10.8665 3.7562C10.8665 4.5542 11.3889 4.83676 12.2915 5.05487C13.0593 5.23179 13.1892 5.38001 13.1892 5.64492C13.1892 5.93859 12.9272 6.12123 12.5053 6.12123C12.0367 6.12123 11.6542 5.96301 11.2268 5.5933C11.2161 5.58428 11.2024 5.57971 11.1885 5.58053C11.1741 5.58164 11.1613 5.5883 11.1524 5.59885L10.7127 6.12178C10.6944 6.14399 10.6966 6.17618 10.7177 6.19506C11.2151 6.63916 11.8269 6.87343 12.4875 6.87343C13.4212 6.87343 14.0247 6.36326 14.0247 5.57331C14.0263 4.90677 13.6272 4.5376 12.6496 4.29979L12.6479 4.29906ZM16.1375 3.50745C15.7328 3.50745 15.4008 3.66688 15.1266 3.99358V3.62586C15.1267 3.61195 15.1212 3.59859 15.1114 3.58872C15.1016 3.57884 15.0883 3.57325 15.0744 3.57318H14.3555C14.3266 3.57318 14.3033 3.59682 14.3033 3.62586V7.71168C14.3033 7.74054 14.3266 7.76441 14.3555 7.76441H15.0744C15.1033 7.76441 15.1266 7.74054 15.1266 7.71168V6.42211C15.4008 6.72909 15.7328 6.87953 16.1375 6.87953C16.8897 6.87953 17.6513 6.30053 17.6513 5.19366C17.6524 4.08656 16.8903 3.50745 16.1375 3.50745ZM16.8153 5.19366C16.8153 5.75706 16.4683 6.15065 15.9709 6.15065C15.4797 6.15065 15.1088 5.7393 15.1088 5.19366C15.1088 4.64796 15.4797 4.23672 15.9709 4.23672C16.46 4.23667 16.8153 4.63908 16.8153 5.19366ZM19.6026 3.50745C18.6339 3.50745 17.875 4.25332 17.875 5.2057C17.875 6.14787 18.6289 6.88564 19.591 6.88564C20.563 6.88564 21.3241 6.14232 21.3241 5.19366C21.3241 4.24821 20.568 3.50745 19.6026 3.50745ZM19.6026 6.1562C19.0874 6.1562 18.6989 5.74207 18.6989 5.19338C18.6989 4.64219 19.0741 4.24222 19.591 4.24222C20.1094 4.24222 20.5003 4.65618 20.5003 5.20543C20.5003 5.7565 20.1228 6.1562 19.6026 6.1562ZM23.3925 3.57318H22.6014V2.76457C22.6015 2.75769 22.6001 2.75087 22.5975 2.7445C22.5949 2.73813 22.5911 2.73234 22.5862 2.72745C22.5814 2.72256 22.5756 2.71868 22.5693 2.71602C22.5629 2.71336 22.5561 2.71197 22.5492 2.71195H21.8304C21.8015 2.71195 21.7776 2.73559 21.7776 2.76457V3.57318H21.4323C21.4035 3.57318 21.3801 3.59682 21.3801 3.62586V4.24355C21.3801 4.27253 21.4035 4.29623 21.4323 4.29623H21.7776V5.89473C21.7776 6.54035 22.099 6.86788 22.7335 6.86788C22.9911 6.86788 23.2049 6.81458 23.4064 6.70023C23.423 6.69134 23.433 6.67358 23.433 6.65471V6.06627C23.433 6.0485 23.4236 6.03129 23.408 6.02186C23.4005 6.01702 23.3918 6.01427 23.3828 6.01388C23.3738 6.01349 23.3649 6.01548 23.357 6.01964C23.2187 6.08903 23.0849 6.12123 22.9351 6.12123C22.7047 6.12123 22.6014 6.01631 22.6014 5.78204V4.29651H23.3925C23.4214 4.29651 23.4447 4.27286 23.4447 4.24383V3.62619C23.4449 3.6193 23.4437 3.61243 23.4412 3.606C23.4387 3.59957 23.435 3.59372 23.4301 3.5888C23.4253 3.58387 23.4195 3.57998 23.4132 3.57735C23.4068 3.57472 23.3994 3.57308 23.3925 3.57318ZM26.1482 3.57634V3.47703C26.1482 3.18486 26.2603 3.05457 26.5112 3.05457C26.6611 3.05457 26.7816 3.08433 26.9165 3.12929C26.9331 3.13451 26.9503 3.1319 26.9636 3.12196C26.9704 3.11709 26.9759 3.11066 26.9797 3.10322C26.9834 3.09579 26.9854 3.08756 26.9853 3.07922V2.47357C26.9854 2.46226 26.9819 2.45121 26.9752 2.44211C26.9684 2.433 26.9589 2.42633 26.9481 2.42311C26.806 2.38075 26.6239 2.33729 26.3508 2.33729C25.6874 2.33729 25.336 2.71111 25.336 3.41796V3.57007H24.9907C24.9618 3.57007 24.938 3.59371 24.938 3.62269V4.24355C24.938 4.27253 24.9618 4.29623 24.9907 4.29623H25.336V6.76129C25.336 6.79071 25.3599 6.81403 25.3887 6.81403H26.1071C26.1365 6.81403 26.1598 6.79071 26.1598 6.76129V4.2964H26.831L27.8591 6.76129C27.7425 7.01998 27.6276 7.07161 27.471 7.07161C27.3445 7.07161 27.2107 7.03386 27.0747 6.95892C27.0618 6.95241 27.0469 6.95102 27.033 6.95503C27.0192 6.96003 27.0075 6.97002 27.0019 6.98334L26.7582 7.51793C26.7466 7.54347 26.7566 7.57289 26.781 7.58622C27.0353 7.72389 27.2645 7.78273 27.5482 7.78273C28.0789 7.78273 28.3726 7.53514 28.6307 6.8701L29.8775 3.64828C29.8808 3.64032 29.882 3.63167 29.881 3.62312C29.88 3.61458 29.8769 3.60641 29.872 3.59938C29.8673 3.59234 29.8609 3.58656 29.8535 3.58257C29.846 3.57858 29.8377 3.5765 29.8292 3.57651H29.0809C29.0582 3.57651 29.0382 3.59077 29.031 3.61181L28.2643 5.80091L27.425 3.61037C27.4212 3.60044 27.4145 3.59189 27.4058 3.58584C27.3971 3.57979 27.3867 3.57654 27.3761 3.57651L26.1482 3.57634ZM24.5505 3.57318H23.8316C23.8027 3.57318 23.7789 3.59682 23.7789 3.62586V6.76129C23.7789 6.79071 23.8027 6.81403 23.8316 6.81403H24.5505C24.5794 6.81403 24.6032 6.79071 24.6032 6.76129V3.62608C24.6032 3.61915 24.6019 3.61229 24.5992 3.60589C24.5966 3.59949 24.5927 3.59367 24.5878 3.58877C24.5829 3.58388 24.5771 3.58 24.5707 3.57736C24.5643 3.57472 24.5574 3.57316 24.5505 3.57318ZM24.1952 2.14543C23.9104 2.14543 23.6795 2.37592 23.6795 2.66065C23.6795 2.94554 23.9104 3.17631 24.1952 3.17631C24.48 3.17631 24.7104 2.94554 24.7104 2.66065C24.7104 2.37598 24.4794 2.14543 24.1952 2.14543ZM30.4915 4.58135C30.2073 4.58135 29.9858 4.35291 29.9858 4.07551C29.9858 3.79811 30.2101 3.56707 30.4943 3.56707C30.7785 3.56707 31 3.79545 31 4.07263C31 4.35002 30.7757 4.58135 30.4915 4.58135ZM30.4943 3.61736C30.235 3.61736 30.0391 3.82332 30.0391 4.07551C30.0391 4.3276 30.2339 4.53078 30.4915 4.53078C30.7507 4.53078 30.9467 4.32499 30.9467 4.07263C30.9467 3.82054 30.7519 3.61736 30.4943 3.61736ZM30.6064 4.12464L30.7496 4.32493H30.6286L30.4998 4.14118H30.3894V4.32493H30.2883V3.79401H30.5248C30.6486 3.79401 30.7297 3.85712 30.7297 3.96338C30.7302 4.05042 30.6791 4.1036 30.6064 4.12464ZM30.5209 3.8851H30.3894V4.05303H30.5209C30.5864 4.05303 30.6258 4.02089 30.6258 3.96898C30.6258 3.91436 30.5864 3.8851 30.5209 3.8851Z" fill="#1ED760"/>
                            </g>

                        </svg>
                    </div>
                    <div class="flex flex-col items-center gap-y-1">
                        <svg class="" width="8" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path class="fill-white group-hover:fill-white/80 transition-all" d="M7.59563 5.19431L1.23294 8.88613C0.692966 9.19911 0 8.82013 0 8.18916V0.805524C0 0.175555 0.691966 -0.204427 1.23294 0.109558L7.59563 3.80138C7.71846 3.8715 7.82056 3.97285 7.89158 4.09517C7.96259 4.21748 8 4.3564 8 4.49784C8 4.63928 7.96259 4.7782 7.89158 4.90051C7.82056 5.02283 7.71846 5.12419 7.59563 5.19431Z"/>
                        </svg>
                        <span class="text-white font-semibold text-xs group-hover:text-white/80 transition-all">GO</span>
                    </div>

                    <transition name="slide-down">
                        <div v-if="dropSpotify"  class="bg-[#1D1D1D] absolute w-full top-[96px] max-h-[234px] overflow-y-scroll left-0 overflow-hidden rounded-b-[15px]">
                            <ul class="transition-all">
                                <li v-for="(spot, i) in showStore.spotiUrls" :key="i" @click.stop="openNewTag(spot.url)" class="p-2 text-white/80 font-medium laptop:hover:bg-white/20 transition-all laptop:cursor-pointer active:bg-white/30 overflow-hidden whitespace-nowrap border-t border-gray-400/20" style="text-overflow: ellipsis;">
                                    <div class="flex gap-x-4 justify-start items-center">
                                        <div class="w-[20%] rounded-[4px] flex-none overflow-hidden">
                                            <img :src="spot.showThumb" class="aspect-square" alt="">
                                        </div>
                                        <span class="text-white font-semibold text-base">{{ spot.showTitle }}</span>
                                    </div>
                                </li>

                            </ul>
                        </div>
                    </transition>
                </div>

                <div @click.stop="dropApple = !dropApple" class="p-4 group flex gap-x-12 laptop:cursor-pointer bg-[#1D1D1D] h-[64px] justify-between items-center rounded-[4px] shadow-card-shadow relative">
                    <div class="h-[48px]">
                        <div class="flex items-center gap-x-2">
                            <img src="../assets/apple_logo.svg"  alt="">
                            <span class="text-white text-[19.2px] font-bold">Apple Podcast</span>
                        </div>
                        <!-- <div class="flex flex-col items-center gap-y-1">
                            <svg class="" width="8" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path class="fill-white group-hover:fill-white/80 transition-all" d="M7.59563 5.19431L1.23294 8.88613C0.692966 9.19911 0 8.82013 0 8.18916V0.805524C0 0.175555 0.691966 -0.204427 1.23294 0.109558L7.59563 3.80138C7.71846 3.8715 7.82056 3.97285 7.89158 4.09517C7.96259 4.21748 8 4.3564 8 4.49784C8 4.63928 7.96259 4.7782 7.89158 4.90051C7.82056 5.02283 7.71846 5.12419 7.59563 5.19431Z"/>
                            </svg>
                            <span class="text-white font-semibold text-xs group-hover:text-white/80 transition-all">PLAY</span>
                        </div> -->
                    </div>

                    <div class="flex flex-col items-center gap-y-1">
                        <svg class="" width="8" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path class="fill-white group-hover:fill-white/80 transition-all" d="M7.59563 5.19431L1.23294 8.88613C0.692966 9.19911 0 8.82013 0 8.18916V0.805524C0 0.175555 0.691966 -0.204427 1.23294 0.109558L7.59563 3.80138C7.71846 3.8715 7.82056 3.97285 7.89158 4.09517C7.96259 4.21748 8 4.3564 8 4.49784C8 4.63928 7.96259 4.7782 7.89158 4.90051C7.82056 5.02283 7.71846 5.12419 7.59563 5.19431Z"/>
                        </svg>
                        <span class="text-white font-semibold text-xs group-hover:text-white/80 transition-all">GO</span>
                    </div>

                    <transition name="slide-down">
                        <div v-if="dropApple"  class="bg-[#1D1D1D] absolute w-full top-[96px] max-h-[234px] overflow-y-scroll left-0 overflow-hidden rounded-b-[15px]">
                            <ul class="transition-all">
                                <li v-for="(spot, i) in showStore.appleUrls" :key="i" @click.stop="openNewTag(spot.url)" class="p-2 text-white/80 font-medium laptop:hover:bg-white/20 transition-all laptop:cursor-pointer active:bg-white/30 overflow-hidden whitespace-nowrap border-t border-gray-400/20" style="text-overflow: ellipsis;">
                                    <div class="flex gap-x-4 justify-start items-center">
                                        <div class="w-[20%] rounded-[4px] flex-none overflow-hidden">
                                            <img :src="spot.showThumb" class="aspect-square" alt="">
                                        </div>
                                        <span class="text-white font-semibold text-base">{{ spot.showTitle }}</span>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </transition>
                </div>
              
                <div @click.stop="openNewTag(showStore.urls.youtube)" class="p-4 group flex gap-x-12 laptop:cursor-pointer bg-[#1D1D1D] h-[64px] justify-between items-center rounded-[4px] shadow-card-shadow">
                    <div class="flex h-[48px] items-center gap-x-2">
                        <svg width="58" height="40" viewBox="0 0 58 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M55.8553 6.26361C55.5276 5.05286 54.8885 3.94909 54.0015 3.0622C53.1146 2.17532 52.0108 1.53627 50.8 1.2087C46.3673 0 28.5288 0 28.5288 0C28.5288 0 10.6896 0.0366802 6.25763 1.24538C5.04692 1.57301 3.94318 2.21208 3.0563 3.09896C2.16942 3.98584 1.53035 5.08958 1.20273 6.30028C-0.138026 14.176 -0.658187 26.1761 1.2394 33.7364C1.56703 34.9471 2.2061 36.0509 3.09298 36.9377C3.97986 37.8246 5.0836 38.4637 6.2943 38.7913C10.7267 40 28.5655 40 28.5655 40C28.5655 40 46.4043 40 50.8367 38.7913C52.0474 38.4637 53.1512 37.8246 54.038 36.9377C54.9249 36.0509 55.564 34.9471 55.8916 33.7364C57.3055 25.8498 57.7418 13.8568 55.8553 6.26361Z" fill="#FF0000"/>
                            <path d="M22.8545 28.5714L37.653 20.0001L22.8545 11.4285V28.5714Z" fill="white"/>
                        </svg>
                        <span class="text-white text-[19.2px] font-bold">YouTube</span>
                    </div>
                    <div class="flex flex-col items-center gap-y-1">
                        <svg class="" width="8" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path class="fill-white group-hover:fill-white/80 transition-all" d="M7.59563 5.19431L1.23294 8.88613C0.692966 9.19911 0 8.82013 0 8.18916V0.805524C0 0.175555 0.691966 -0.204427 1.23294 0.109558L7.59563 3.80138C7.71846 3.8715 7.82056 3.97285 7.89158 4.09517C7.96259 4.21748 8 4.3564 8 4.49784C8 4.63928 7.96259 4.7782 7.89158 4.90051C7.82056 5.02283 7.71846 5.12419 7.59563 5.19431Z"/>
                        </svg>
                        <span class="text-white font-semibold text-xs group-hover:text-white/80 transition-all">PLAY</span>
                    </div>
                </div>

                <div @click.stop="openNewTag(showStore.urls.informm)" class="p-4 group flex gap-x-12 laptop:cursor-pointer bg-[#1D1D1D] h-[64px] justify-between items-center rounded-[4px] shadow-card-shadow">
                    
                    <div class="h-[48px] flex items-center gap-x-2">
                        <img src="../assets/informm_logo.svg" class="w-full h-full" alt="">
                        <span class="text-white text-[19.2px] font-bold">InforMM</span>
                    </div>

                    <div class="flex flex-col items-center gap-y-1">
                        <svg class="" width="8" height="9" viewBox="0 0 8 9" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path class="fill-white group-hover:fill-white/80 transition-all" d="M7.59563 5.19431L1.23294 8.88613C0.692966 9.19911 0 8.82013 0 8.18916V0.805524C0 0.175555 0.691966 -0.204427 1.23294 0.109558L7.59563 3.80138C7.71846 3.8715 7.82056 3.97285 7.89158 4.09517C7.96259 4.21748 8 4.3564 8 4.49784C8 4.63928 7.96259 4.7782 7.89158 4.90051C7.82056 5.02283 7.71846 5.12419 7.59563 5.19431Z"/>
                        </svg>
                        <span class="text-white font-semibold text-xs group-hover:text-white/80 transition-all">PLAY</span>
                    </div>

                </div>

            </div>

        </div>
    </div>
</template>

<script setup>
import { onMounted, ref } from 'vue';
import { useShowsStore } from '../stores/ShowsStore'
const showStore = useShowsStore();
const dropSpotify = ref(false);
const dropApple = ref(false);

// console.log(showStore);
onMounted(async () => {
    await showStore.getURLS();
    console.log(showStore.spotiUrls);
})


function openNewTag(url) {
    
    window.open(url, '_blank');
    return;
}




</script>

<style>
</style>